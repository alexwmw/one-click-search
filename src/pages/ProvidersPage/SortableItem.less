@import "/src/less/_variables.less";

@row-height: 24px;
@row-height_expanded: 148px;
@row-padding: 2px;
@favicon-height: 16px;
@transition-time: 200ms;

.section-name {
  transition: filter @transition-time;
  user-select: none;
}

li.sortable-item {
  position: relative;
  top: 0;
  overflow: hidden;

  height: @row-height;
  width: 96%;
  margin: 6px auto;
  padding: @row-padding;
  padding-left: @row-padding * 4;

  border: solid 1px var(--P3);
  border-radius: 10px;
  background-color: var(--L3);

  list-style-type: none;
  list-style-position: inside;

  transition: border @transition-time, height @transition-time,
    filter @transition-time;

  //Cursor
  &:not(.undraggable) {
    cursor: grab;
  }
  &.undraggable {
    cursor: no-drop;
  }

  &:hover:not(.undraggable) {
    border: solid 1px var(--A1);
  }

  &.expanded {
    height: @row-height_expanded;
    cursor: default;
    border: solid 1px var(--A1);

    .li-expand-btn {
      background-color: var(--white);
    }
    .sort.icon {
      transform: scale(0);
    }
    .li-favicon {
      transform: translate(-20px, 4px) scale(1.2);
    }
    .li-provider-name {
      transform: translate(-10px, 4px) scale(1.2);
    }
  }

  #visible & {
    background-color: var(--PA);
  }

  #disabled & {
    background-color: var(--L4);
    img {
      filter: grayscale(1);
    }
  }

  // SortableJS

  &.sortable-drag {
    opacity: 1 !important;
  }

  &.sortable-chosen {
    #visible &,
    #hidden &,
    #disabled & {
      background-color: var(--P3);
      .sort.icon {
        color: var(--A1);
      }
    }
    box-shadow: 0 0 3px @shadow-color;

    border: solid 1px var(--A1);
  }
  &.sortable-ghost {
    visibility: hidden;
  }

  // Children
  > * {
    &.li-sort-icon {
      transition: left @transition-time, right @transition-time,
        transform @transition-time;
      position: relative;
      bottom: 6px;
      left: 4px;
      user-select: none;
      font-weight: 600;
      .sort.icon {
        color: var(--L2);
        font-size: 14px;
        transition: all @transition-time;
        padding-right: 10px;
      }
    }

    &.li-favicon {
      transition: left @transition-time, right @transition-time,
        transform @transition-time;
      height: @favicon-height;
      margin: 4px 10px;
      user-select: none;
    }

    &.li-provider-name {
      transition: left @transition-time, right @transition-time,
        transform @transition-time;
      position: relative;
      bottom: 5px;
      left: 8px;
      user-select: none;
      font-weight: 600;
      display: inline-block;

      width: 170px;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    &.li-expand-btn {
      position: absolute;
      right: 4px;
      top: 4px;
      display: block;
      color: var(--D1);
      padding: 5px;
      border-radius: 50%;
      text-align: center;
      background-color: transparent;
      cursor: pointer;
      .icon {
        display: block;
        width: 12px;
        height: 12px;
      }
      &:hover {
        background-color: var(--bg);
        color: @text-color;
      }
    }
  }
}

li.sortable-item form {
  text-align: right;
  font-size: 7pt;
  font-weight: 700;
  margin-top: 8px;

  > div {
    //width: unset;

    &:last-child {
      margin-block: 0;
    }
  }

  label {
    flex: 0.3;
    text-transform: uppercase;
    padding-right: 5px;
  }
  input {
    flex: 0.7;
    border: none;
    font-size: 8pt;
    outline: none;
    height: 18px;
    width: 160px;
    margin: 3px 10px;
  }
  .btn {
    cursor: pointer;
    width: 76px;
    padding: 3px 4px !important;
    margin: 3px 10px;
    border-radius: 6px;
    border: @invisible-border;
    gap: 8px;

    display: flex;
    align-items: center;
    justify-content: center;

    background-color: transparent;
    font-size: 10pt;
    .icon {
      font-size: 15px;
      color: var(--D1);
    }

    span {
      color: @text-color;
    }

    &.submitBtn.hasChanges {
      //background-color: white;
      font-weight: 700;
      border-color: var(--A1);

      span {
        color: var(--A1);
      }
      .svg-inline--fa {
        color: var(--A1);
      }
      &:hover {
        border-color: var(--A1);
        span,
        .svg-inline--fa {
          color: var(--A2);
        }
      }
    }
    &:hover {
      //border: solid 1px @text-color;
      background-color: var(--L2);
    }
    &:active {
      border: @accent-border;
    }
    &.hidden {
      display: none;
    }
  }
}
